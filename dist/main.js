!function(i){var o={};function s(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=i,s.c=o,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(i,o,function(t){return e[t]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(p,t){
/* Add to Homescreen v3.2.3 ~ (c) 2015 Matteo Spinelli ~ @license: http://cubiq.org/license */
!function(s,n){var o="addEventListener"in s,a=!1;"complete"===n.readyState?a=!0:o&&s.addEventListener("load",function t(){s.removeEventListener("load",t,!1);a=!0},!1);var e,t=/\/ath(\/)?$/,i=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;function r(t){return e=e||new r.Class(t)}r.defaults={appID:"add_to_homescreen",fontSize:15,debug:!1,logging:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:!1,detectHomescreen:!1,iosText:"pica",androidText:"devka"};var h=s.navigator.userAgent;d(r,{hasToken:"#ath"==n.location.hash||t.test(n.location.href)||i.test(n.location.search),isIDevice:/iphone|ipod|ipad/i.test(h),isMobileChrome:-1<h.indexOf("Android")&&/Chrome\/[.0-9]*/.test(h)&&-1==h.indexOf("Version")}),r.isMobileSafari=r.isIDevice&&-1<h.indexOf("Safari")&&h.indexOf("CriOS")<0,r.OS=r.isIDevice?"ios":r.isMobileChrome?"android":r.isMobileIE?"windows":"unsupported",r.OSVersion=(r.OSVersion=h.match(/(OS|Android) (\d+[_\.]\d+)/))&&r.OSVersion[2]?+r.OSVersion[2].replace("_","."):0,r.isStandalone="standalone"in s.navigator&&s.navigator.standalone,r.isTablet=r.isMobileSafari&&-1<h.indexOf("iPad")||r.isMobileChrome&&h.indexOf("Mobile")<0,r.isCompatible=r.isMobileSafari&&6<=r.OSVersion||r.isMobileChrome;var l={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};function d(t,e){for(var i in e)t[i]=e[i];return t}function c(){"#ath"==n.location.hash&&history.replaceState("",s.document.title,n.location.href.split("#")[0]),t.test(n.location.href)&&history.replaceState("",s.document.title,n.location.href.replace(t,"$1")),i.test(n.location.search)&&history.replaceState("",s.document.title,n.location.href.replace(i,"$2"))}r.removeSession=function(t){try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.removeItem(t||r.defaults.appID)}catch(t){}},r.doLog=function(t){this.options.logging&&console.log(t)},(r.Class=function(t){if(this.doLog=r.doLog,this.options=d({},r.defaults),d(this.options,t),this.options&&this.options.debug&&void 0===this.options.logging&&(this.options.logging=!0),o)if(this.options.mandatory=this.options.mandatory&&("standalone"in s.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=!0===this.options.detectHomescreen?"hash":this.options.detectHomescreen,this.options.debug&&(r.isCompatible=!0,r.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==r.OS?"android":r.OS,r.OSVersion="ios"==r.OS?"8":"4"),this.container=n.body,this.session=this.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!r.hasToken||r.isCompatible&&this.session||(r.hasToken=!1,c()),r.isCompatible){this.session=this.session||l;try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.setItem(this.options.appID,JSON.stringify(this.session)),r.hasLocalStorage=!0}catch(t){r.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var e=!this.options.validLocation.length,i=this.options.validLocation.length;i--;)if(this.options.validLocation[i].test(n.location.href)){e=!0;break}if(this.session.optedout)this.doLog("User opt out");else if(this.session.added)this.doLog("Already added");else if(e){if(r.isStandalone)return this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&r.hasLocalStorage&&this.options.onAdd.call(this)),void this.doLog("Standalone mode");if(this.options.detectHomescreen){if(r.hasToken)return c(),this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&r.hasLocalStorage&&this.options.onAdd.call(this)),void this.doLog("PWA");"hash"==this.options.detectHomescreen?history.replaceState("",s.document.title,n.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",s.document.title,n.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",s.document.title,n.location.href+(n.location.search?"&":"?")+"ath=")}this.session.returningVisitor||(this.session.returningVisitor=!0,this.updateSession(),!this.options.skipFirstVisit)?this.options.privateModeOverride||r.hasLocalStorage?(this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&(this.doLog("Autostart"),this.show())):this.doLog("Private mode"):this.doLog("First visit")}else this.doLog("Invalid location")}else this.doLog("Device not supported")}).prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(t){var e=this.events[t.type];e&&this[e](t)},show:function(t){if(!this.options.autostart||a)if(this.shown)this.doLog("Already shown");else{var e=Date.now(),i=this.session.lastDisplayTime;if(!0!==t){if(!this.ready)return void this.doLog("Not ready");if(e-i<6e4*this.options.displayPace)return void this.doLog("Displayed recently");if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return void this.doLog("Display limit reached")}this.shown=!0,this.session.lastDisplayTime=e,this.session.displayCount++,this.updateSession(),this.applicationIcon||(this.applicationIcon="ios"==r.OS?n.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]'):n.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var o="";"android"===r.OS?o=this.options.androidText:"ios"===r.OS&&(o=this.options.iosText),o="<p>"+o.replace(/%icon(?:\[([^\]]+)\])?/gi,function(t,e){return'<span class="ath-action-icon">'+(e||"icon")+"</span>"})+"</p>",this.viewport=n.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=n.createElement("div"),this.element.className="ath-container ath-"+r.OS+" ath-"+r.OS+" ath-"+(r.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;",this.element.style.webkitTransform="translate3d(0,-"+s.innerHeight+"px,0)",this.element.style.transform="translate3d(0,-"+s.innerHeight+"px,0)",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=n.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=o,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img?this.doLog("Add to homescreen: not displaying callout because waiting for img to load"):this._delayedShow()}else setTimeout(this.show.bind(this),50)},_delayedShow:function(t){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var t=this;this.updateViewport(),s.addEventListener("resize",this,!1),s.addEventListener("scroll",this,!1),s.addEventListener("orientationchange",this,!1),this.options.modal&&n.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){t.element.addEventListener("click",t,!0)},1e3),setTimeout(function(){t.element.style.webkitTransitionDuration="1.2s",t.element.style.transitionDuration="1.2s",t.element.style.webkitTransform="translate3d(0,0,0)",t.element.style.transform="translate3d(0,0,0)"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),s.removeEventListener("resize",this,!1),s.removeEventListener("scroll",this,!1),s.removeEventListener("orientationchange",this,!1),n.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=s.innerWidth+"px",this.viewport.style.height=s.innerHeight+"px",this.viewport.style.left=s.scrollX+"px",this.viewport.style.top=s.scrollY+"px";var t=n.documentElement.clientWidth;this.orientation=t>n.documentElement.clientHeight?"landscape":"portrait";var e="ios"==r.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>t?1:e/s.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){!1!==r.hasLocalStorage&&localStorage&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=l,this.updateSession()},getItem:function(t){try{if(!localStorage)throw new Error("localStorage is not defined");return localStorage.getItem(t)}catch(t){r.hasLocalStorage=!1}},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(t){t.preventDefault(),t.stopPropagation()}},p.exports={addToHomescreen:r}}(window,document)}]);